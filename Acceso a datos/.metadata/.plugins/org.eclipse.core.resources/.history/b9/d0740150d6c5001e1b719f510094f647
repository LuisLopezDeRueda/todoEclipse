package ceu.dam.mongo.Service;

import java.util.ArrayList;

import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import com.mongodb.client.result.InsertOneResult;

import ceu.dam.mongo.modelo.Direccion;
import ceu.dam.mongo.modelo.Persona;

public class Service {
	public String insertarPersona(Persona persona, MongoDatabase db) {
		MongoCollection<Persona> c = db.getCollection("personas", Persona.class);

		Persona p = new Persona("23423X", "María de las Nieves", 48);
		p.setDirecciones(new ArrayList<>());
		p.getDirecciones().add(new Direccion("Avda Hola", "Sevilla", 41002));
		p.getDirecciones().add(new Direccion("Avda Playa, 3", "Málaga", 23002));
		p.getDirecciones().add(new Direccion("Avda Montaña, 23", "Granada", 12002));
		InsertOneResult result = c.insertOne(p);

		return result.getInsertedId().toString();
		
		
	}
}
